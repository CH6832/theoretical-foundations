# Foundations of Finance - Lecture Notes

## Introduction to Finance
Finance is the study of how individuals, businesses, and governments manage and allocate their financial resources over time, considering the risks involved.

### Overview of Financial Markets
Financial markets are platforms where buyers and sellers trade financial instruments like stocks, bonds, derivatives, and currencies. They facilitate the efficient allocation of resources, liquidity provision, price discovery, and risk sharing.

### Types of Financial Instruments
- **Equity Instruments**: Represent ownership in a company, such as stocks.
- **Debt Instruments**: Represent borrowed funds that must be repaid with interest, such as bonds and loans.
- **Derivatives**: Financial contracts whose value is derived from an underlying asset, such as options and futures.

## Markets and Exchanges
### Financial Markets
- **Stock Markets**: Platforms for trading shares of public companies.
- **Bond Markets**: Platforms where new debt can be issued and existing debt securities traded.
- **Currency Markets (Forex)**: Where currencies are traded.
- **Commodity Markets**: Where raw materials like gold, oil, and agricultural products are traded.

### Stock Exchanges
Stock exchanges are centralized markets where securities like stocks and bonds are listed and traded. Examples include the New York Stock Exchange (NYSE) and NASDAQ.

### Over-the-Counter (OTC) Markets
OTC markets are decentralized and involve direct trading between two parties without a central exchange. Common in bonds, currencies, and derivatives trading.

### Regional Markets
Regional markets refer to financial markets that operate within a specific geographical area or country, such as the Tokyo Stock Exchange in Japan.

## Money and Currencies
### Definition and Functions of Money
Money is a medium of exchange that facilitates trade. It functions as:
- A unit of account
- A store of value
- A standard of deferred payment

### Currency Markets
The Forex market is the largest financial market, trading currencies 24/7. Exchange rates fluctuate based on economic indicators, market sentiment, and geopolitical events.

### Exchange Rates and Their Determination
Exchange rates can be fixed or floating and are influenced by factors like inflation, interest rates, and political stability.

## Stocks and Equity Indices
### Definition of Stocks
Stocks represent ownership in a company and entitle shareholders to a portion of the company's profits, usually paid as dividends.

### Stock Market Indices
Indices track the performance of a group of stocks, such as:
- **S&P 500**: Tracks 500 large-cap U.S. companies.
- **Dow Jones Industrial Average (DJIA)**: Tracks 30 significant U.S. companies.
- **FTSE 100**: Tracks 100 major UK companies.

### Initial Public Offerings (IPOs)
An IPO is when a private company offers its shares to the public for the first time to raise capital.

### Primary and Secondary Markets
- **Primary Market**: Where new securities are issued.
- **Secondary Market**: Where existing securities are traded between investors.

## Debt Instruments
### Loans
Loans are borrowed sums that must be repaid with interest over time, commonly used for financing businesses, homes, or education.

### Bonds
Bonds are debt securities issued by corporations or governments to raise capital, paying interest (coupons) periodically and returning the principal at maturity.

### Credit Products
Credit products include various forms of debt like credit cards, personal loans, and lines of credit, enabling borrowers to access funds with a promise of repayment.

## Real Assets
### Commodities
Commodities are physical goods like metals, energy, and agricultural products, traded in markets based on supply and demand.

### Real Estate
Real estate involves owning and managing property. It provides rental income and potential capital appreciation.

### Mortgages
Mortgages are loans secured by real estate, typically for purchasing property, with repayment spread over many years.

### Asset-Backed Securities (ABS)
ABS are financial securities backed by a pool of assets like loans, leases, or receivables, providing investors with income from the underlying assets.

## Derivatives and Structured Products
### Definition and Types of Derivatives
Derivatives are contracts whose value is derived from an underlying asset. Common types include:
- **Futures**: Contracts to buy or sell an asset at a future date.
- **Options**: Contracts that give the holder the right, but not the obligation, to buy or sell an asset at a specified price.

### Structured Products
Structured products combine derivatives with traditional financial instruments to create customized investment solutions.

## Banking and Lending
### Deposits and Commercial Lending
- **Deposits**: Funds placed in a bank account earning interest.
- **Commercial Lending**: Banks providing loans to businesses for purposes like expansion or capital expenditure.

### Fixed Income and Equity
- **Fixed Income**: Investments providing regular interest payments, like bonds.
- **Equity**: Ownership in a company with potential returns from dividends and capital gains.

### Investment Banking Division (IBD)
IBD provides services such as underwriting, mergers and acquisitions (M&A), and corporate advisory.

### Corporate Finance
Corporate finance involves managing a company's financial activities, including capital structure, investment decisions, and funding strategies.

## Asset and Wealth Management
### Asset Management
Managing investments on behalf of clients, focusing on portfolio management, asset allocation, and risk management.

### Wealth Management
Comprehensive financial services, including investment management, estate planning, and tax advice, tailored to high-net-worth individuals (HNWIs).

## Game Theory in Finance
### 1 Zero-sum Game
A situation in which one participant's gain is exactly balanced by another's loss. Important in understanding competitive markets.

## Market Participants
### Investors and Borrowers
- **Investors**: Provide capital in exchange for returns.
- **Borrowers**: Seek capital to finance projects or operations.

### Dealers, Market Makers, Brokers
- **Dealers**: Buy and sell securities for their own accounts.
- **Market Makers**: Provide liquidity by quoting buy and sell prices.
- **Brokers**: Facilitate transactions between buyers and sellers.

### Retail Investors
Individual investors who buy and sell securities for personal accounts.

### Mutual Funds, Insurance Companies, Pension Funds
Institutional investors managing large pools of money, investing in diversified portfolios on behalf of individuals or entities.

### Asset Managers, Sovereign Wealth Funds (SWFs), Hedge Funds
- **Asset Managers**: Invest client funds across asset classes.
- **SWFs**: State-owned investment funds.
- **Hedge Funds**: Private investment funds employing various strategies for high returns.

### Governments and Policy Makers
Influence markets through regulation, fiscal policies, and monetary policies.

### Corporate Hedgers and Liability Management
- **Corporate Hedgers**: Use financial instruments to mitigate business risks.
- **Liability Management**: Managing a company’s debt obligations strategically.

## Trading and Risk Management
### Types of Traders
- **Day Traders**: Buy and sell securities within the same day.
- **Swing Traders**: Hold positions for days or weeks.
- **Position Traders**: Hold positions for months or years.

### Hedging Trade Example
Hedging involves taking an offsetting position to reduce risk. Example: buying put options to protect a stock portfolio from a market downturn.

### Market Making Example
Market making involves quoting both buy and sell prices for an asset, providing liquidity. Example: quoting a bid of $100 and an ask of $101 in a stock.

### Proprietary Trading Example
Proprietary trading is when a firm trades its own capital for profit. Example: taking a currency position based on economic trends.

### Pricing Models
Pricing models determine the fair value of financial instruments. Common models include:
- **Black-Scholes**: For options pricing.
- **Discounted Cash Flow (DCF)**: For valuing stocks.

### Risk Management
Risk management involves identifying, assessing, and mitigating financial risks through diversification, hedging, and derivatives.

### Trading Strategies
Systematic approaches to buying and selling securities, including:
- **Momentum Trading**: Buying stocks with upward price trends.
- **Value Investing**: Buying undervalued stocks.
- **Arbitrage**: Exploiting price differences between markets.

### Risk Aversion Example
Risk-averse investors prefer lower-risk investments, like bonds, over higher-risk stocks, to protect their capital.

## Topics Covered

### Time Value of Money
- **Present Value and Future Value**:
  - Understanding the concept of time value of money.
  - Calculating present and future values of cash flows.
- **Annuities and Perpetuities**:
  - Valuation of annuities and perpetuities.
  - Applications in financial decision-making.

### Capital Markets
- **Bonds, Stocks, and Derivatives**:
  - Overview of financial instruments and

 their valuation.
  - Understanding the role of bonds, stocks, and derivatives in capital markets.
- **Market Efficiency**:
  - Introduction to the Efficient Market Hypothesis (EMH).
  - Implications of market efficiency on investment strategies.

### Risk and Return
- **Portfolio Theory**:
  - Diversification and risk management.
  - Construction and analysis of efficient portfolios.
- **Capital Asset Pricing Model (CAPM)**:
  - Understanding the relationship between risk and expected return.
  - Application of CAPM in asset pricing.
- **Arbitrage Pricing Theory (APT)**:
  - Introduction to APT and its comparison with CAPM.
  - Multi-factor models for asset pricing.

### Corporate Finance
- **Capital Budgeting**:
  - Techniques for evaluating investment projects (NPV, IRR, etc.).
  - Decision-making under uncertainty.
- **Cost of Capital**:
  - Estimating the cost of equity, debt, and overall capital.
  - Impact of capital structure on the cost of capital.
- **Dividend Policy and Capital Structure**:
  - Theories of dividend policy and its impact on firm value.
  - Analysis of capital structure decisions and their implications.

## Projects

### Project 1 - Noisy Delta

**Objective**:
The goal of this project is to estimate the "delta" of a financial option in a noisy market environment. The delta is a measure of the sensitivity of the option's price to changes in the price of the underlying asset. By simulating a noisy market environment, we can understand how fluctuations in the underlying asset's price affect the delta and, consequently, the option's pricing and hedging strategies.

**Concepts Covered**:
- Option pricing
- Delta hedging
- Stochastic processes
- Numerical methods

**Python Example**:

Below is a Python example to estimate the delta of a European call option using Monte Carlo simulations in a noisy market environment.

```python
import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import norm

# Parameters
S0 = 100  # Initial stock price
K = 100   # Strike price
T = 1.0   # Time to maturity (1 year)
r = 0.05  # Risk-free rate
sigma = 0.2  # Volatility of the underlying asset
num_simulations = 10000  # Number of Monte Carlo simulations
num_steps = 100  # Number of time steps

# Function to calculate the option price and delta using the Black-Scholes formula
def black_scholes_delta(S, K, T, r, sigma):
    d1 = (np.log(S / K) + (r + 0.5 * sigma ** 2) * T) / (sigma * np.sqrt(T))
    delta = norm.cdf(d1)
    return delta

# Monte Carlo simulation to estimate delta in a noisy market environment
def monte_carlo_delta(S0, K, T, r, sigma, num_simulations, num_steps):
    dt = T / num_steps
    delta_estimates = []

    for _ in range(num_simulations):
        S = S0
        for _ in range(num_steps):
            # Simulate the stock price with noise
            noise = np.random.normal(0, 1)
            S = S * np.exp((r - 0.5 * sigma ** 2) * dt + sigma * noise * np.sqrt(dt))
        
        # Estimate delta at the end of the simulation
        delta = black_scholes_delta(S, K, T, r, sigma)
        delta_estimates.append(delta)

    return np.mean(delta_estimates), np.std(delta_estimates)

# Run the simulation
delta_mean, delta_std = monte_carlo_delta(S0, K, T, r, sigma, num_simulations, num_steps)

print(f"Estimated Delta: {delta_mean:.4f}")
print(f"Delta Standard Deviation: {delta_std:.4f}")

# Plot the distribution of delta estimates
plt.hist(delta_estimates, bins=50, alpha=0.7, color='blue')
plt.title('Distribution of Delta Estimates')
plt.xlabel('Delta')
plt.ylabel('Frequency')
plt.show()
```

**Explanation**:
- The `black_scholes_delta` function computes the delta of a European call option using the Black-Scholes formula.
- The `monte_carlo_delta` function runs a Monte Carlo simulation to estimate the delta under noisy market conditions. It simulates the stock price path and computes the delta at each step.
- The histogram of delta estimates shows the distribution of delta values, which can help in understanding the impact of market noise on delta estimation.

### Project 2 - Kalman Filter

**Objective**:
This project involves using the Kalman Filter to estimate the value of an asset over time, accounting for noise and uncertainty in the observations. The Kalman Filter is a recursive algorithm that provides an optimal estimate of the true value of a variable based on a series of noisy observations.

**Concepts Covered**:
- State-space models
- Recursive estimation
- Filtering and smoothing techniques
- Financial time series analysis

**Python Example**:

Below is a Python example to implement the Kalman Filter for estimating the price of an asset.

```python
import numpy as np
import matplotlib.pyplot as plt

# Simulated parameters
np.random.seed(42)
n_timesteps = 50
true_value = 100  # Starting true value
process_noise = 1  # Process noise
measurement_noise = 2  # Measurement noise

# Simulate the true value and noisy measurements
true_values = np.zeros(n_timesteps)
measurements = np.zeros(n_timesteps)

for t in range(n_timesteps):
    if t == 0:
        true_values[t] = true_value
    else:
        true_values[t] = true_values[t-1] + np.random.normal(0, process_noise)
    measurements[t] = true_values[t] + np.random.normal(0, measurement_noise)

# Kalman Filter implementation
def kalman_filter(measurements, process_noise, measurement_noise):
    n_timesteps = len(measurements)
    x_est = np.zeros(n_timesteps)  # Estimate of the state
    p_est = np.zeros(n_timesteps)  # Estimate of the state variance

    # Initial guesses
    x_est[0] = measurements[0]
    p_est[0] = 1.0

    for t in range(1, n_timesteps):
        # Prediction step
        x_pred = x_est[t-1]
        p_pred = p_est[t-1] + process_noise

        # Update step
        kalman_gain = p_pred / (p_pred + measurement_noise)
        x_est[t] = x_pred + kalman_gain * (measurements[t] - x_pred)
        p_est[t] = (1 - kalman_gain) * p_pred

    return x_est, p_est

# Run the Kalman Filter
estimated_values, estimated_variances = kalman_filter(measurements, process_noise, measurement_noise)

# Plot the results
plt.plot(true_values, label='True Value', linestyle='--', color='black')
plt.plot(measurements, label='Measurements', color='blue', alpha=0.5)
plt.plot(estimated_values, label='Kalman Filter Estimate', color='red')
plt.fill_between(range(n_timesteps), estimated_values - np.sqrt(estimated_variances),
                 estimated_values + np.sqrt(estimated_variances), color='red', alpha=0.2)
plt.legend()
plt.title('Kalman Filter - Estimating Asset Value')
plt.xlabel('Time Step')
plt.ylabel('Value')
plt.show()
```

**Explanation**:
- The code first simulates the true asset value and noisy measurements over time. The true value evolves according to a random walk, and the measurements are the true value plus some noise.
- The `kalman_filter` function estimates the asset's true value over time using the Kalman Filter. It takes the noisy measurements and recursively updates the estimate and its uncertainty.
- The plot shows the true value, the noisy measurements, and the Kalman Filter's estimate, along with the uncertainty around the estimate.

**Applications**:
- The Kalman Filter is widely used in finance for filtering and smoothing time series data, such as in high-frequency trading, risk management, and estimating volatility.

## Problem sets

### Overview of Financial Markets
- Describe the primary functions of financial markets. How do they contribute to the efficient allocation of resources? Provide examples.
- Explain the difference between a stock market and a bond market. Include their roles and the types of securities traded in each.

### Types of Financial Instruments
- Differentiate between equity instruments and debt instruments. Provide examples of each and describe their characteristics.
- Discuss the concept of derivatives and their types. How do options and futures contracts work? Give examples of how they might be used in financial markets.

### Markets and Exchanges
- Compare and contrast stock exchanges with over-the-counter (OTC) markets. What are the advantages and disadvantages of each?
- Explain the significance of regional markets with an example. How does the Tokyo Stock Exchange contribute to Japan’s financial system?

### Money and Currencies
- What are the three primary functions of money? Discuss each function and its importance in the economy.
- Describe how exchange rates are determined in a floating exchange rate system. What factors influence exchange rate fluctuations?

### Stocks and Equity Indices
- What are stock market indices, and why are they important? Describe how the S&P 500 and the Dow Jones Industrial Average (DJIA) are constructed and used.
- What is an Initial Public Offering (IPO)? Explain the process and the significance of an IPO for a company and its investors.

### Debt Instruments
- Differentiate between bonds and loans. Discuss their features, and how they are used by corporations and governments.
- Explain what credit products are and provide examples. How do they differ from traditional debt instruments like bonds?

### Real Assets
- Discuss the characteristics of commodities and real estate as investment assets. What are the advantages and risks associated with each?
- What are asset-backed securities (ABS)? Explain how they are structured and their role in financial markets.

### Derivatives and Structured Products
- Explain the concept of derivatives. Compare and contrast futures and options contracts, including their uses and risk profiles.
- What are structured products? Provide an example and discuss how they combine traditional financial instruments with derivatives.

### Banking and Lending
- What is the difference between deposits and commercial lending? Describe how banks use these two services to generate revenue.
- Explain the role of investment banking in corporate finance. What are some of the key services provided by investment banks?

### Asset and Wealth Management
- Differentiate between asset management and wealth management. What services do each provide, and to whom are they targeted?
- What is the role of sovereign wealth funds (SWFs) in global financial markets? How do they differ from hedge funds?

### Game Theory in Finance
- Describe a zero-sum game and its relevance to competitive financial markets. Provide an example involving trading strategies.

### Market Participants
- Differentiate between market makers, dealers, and brokers. What roles do they play in financial markets?
- Discuss the role of institutional investors such as mutual funds and pension funds. How do their investment strategies differ from those of retail investors?

### Trading and Risk Management
- Compare different types of traders (day traders, swing traders, position traders). What are their objectives and strategies?
- Provide an example of a hedging strategy. How does it help manage risk? Also, explain market making and proprietary trading with examples.

### Pricing Models and Risk Management
- Explain the Black-Scholes model for options pricing. How does it determine the fair value of an option?
- What is risk aversion, and how does it influence investment decisions? Provide an example of a risk-averse investment strategy.

### Time Value of Money
- Calculate the present value of a $1,000 payment to be received in 5 years if the discount rate is 6%.
- What is the difference between an annuity and a perpetuity? Calculate the present value of an annuity that pays $200 annually for 10 years with a discount rate of 5%.

### Capital Markets
- Discuss the Efficient Market Hypothesis (EMH) and its implications for investment strategies. What are the three forms of EMH?
- Explain the concept of market efficiency and its impact on stock prices and investment opportunities.

### Risk and Return
- Describe the Capital Asset Pricing Model (CAPM). How does it relate risk and expected return for an asset?
- What is Arbitrage Pricing Theory (APT)? How does it differ from CAPM in asset pricing?

### Corporate Finance
- Explain the concept of capital budgeting and the methods used to evaluate investment projects, such as Net Present Value (NPV) and Internal Rate of Return (IRR).
- Discuss the theories of dividend policy and how they impact a company's valuation. What factors influence a company's decision on dividend payments?

### Midterm Exam
A comprehensive exam covering the first half of the course material.

### Final Exam
A detailed exam that tests understanding across all topics covered in the course.

### Project: Financial Analysis of the USA Market

**Objective**:
The goal of this project is to conduct a financial analysis of the USA stock market, focusing on a specific sector or index. The project involves data collection, financial modeling, and decision-making based on real-world market data.

**Scope**:
- **Market Selection**: Choose a specific sector (e.g., technology, healthcare) or a major index like the S&P 500.
- **Data Collection**: Gather historical data on stock prices, indices, or financial statements from reliable sources like Yahoo Finance or Bloomberg.
- **Financial Metrics**: Analyze key financial metrics such as price-to-earnings (P/E) ratios, return on equity (ROE), and debt-to-equity ratios.
- **Risk and Return Analysis**: Assess the risk and return profile of the selected stocks or sector.
- **Valuation Models**: Apply valuation models like Discounted Cash Flow (DCF) or the Dividend Discount Model (DDM) to estimate the intrinsic value of stocks.
- **Investment Decision**: Based on the analysis, make a recommendation on whether to buy, hold, or sell the selected stocks.

**Python Example**:

Below is a Python example to analyze a stock from the S&P 500 index using real-world data.

```python
import yfinance as yf
import matplotlib.pyplot as plt
import numpy as np

# Select a stock from the S&P 500, e.g., Apple Inc. (AAPL)
ticker = "AAPL"
stock_data = yf.download(ticker, start="2020-01-01", end="2023-01-01")

# Plot the stock's closing price
plt.figure(figsize=(10, 6))
plt.plot(stock_data['Close'], label='AAPL Closing Price')
plt.title('Apple Inc. (AAPL) Closing Price (2020-2023)')
plt.xlabel('Date')
plt.ylabel('Price (USD)')
plt.legend()
plt.show()

# Calculate daily returns
stock_data['Daily Return'] = stock_data['Close'].pct_change()

# Calculate cumulative returns
stock_data['Cumulative Return'] = (1 + stock_data['Daily Return']).cumprod()

# Plot cumulative returns
plt.figure(figsize=(10, 6))
plt.plot(stock_data['Cumulative Return'], label='AAPL Cumulative Return', color='green')
plt.title('Apple Inc. (AAPL) Cumulative Return (2020-2023)')
plt.xlabel('Date')
plt.ylabel('Cumulative Return')
plt.legend()
plt.show()

# Calculate key financial metrics
mean_return = stock_data['Daily Return'].mean()
volatility = stock_data['Daily Return'].std()
sharpe_ratio = mean_return / volatility * np.sqrt(252)

print(f"Mean Daily Return: {mean_return:.4f}")
print(f"Volatility (Standard Deviation): {volatility:.4f}")
print(f"Sharpe Ratio: {sharpe_ratio:.2f}")

# DCF model assumptions
free_cash_flow = 100e9  # Example: $100 billion
growth_rate = 0.05  # 5% annual growth
discount_rate = 0.08  # 8% discount rate
terminal_growth_rate = 0.02  # 2% terminal growth rate
years = 10

# DCF valuation
dcf_values = []
for i in range(1, years + 1):
    dcf_value = free_cash_flow * (1 + growth_rate) ** i / (1 + discount_rate) ** i
    dcf_values.append(dcf_value)

terminal_value = dcf_values[-1] * (1 + terminal_growth_rate) / (discount_rate - terminal_growth_rate)
dcf_value_total = sum(dcf_values) + terminal_value

print(f"DCF Valuation Estimate: ${dcf_value_total / 1e9:.2f} billion")
```

**Explanation**:
- **Data Collection**: The `yfinance` library is used to download historical stock data for Apple Inc. (AAPL) from 2020 to 2023.
- **Price Analysis**: The stock's closing price is plotted to visualize its performance over time.
- **Return Analysis**: Daily and cumulative returns are calculated and plotted to assess the stock's performance.
- **Risk Metrics**: The mean return, volatility, and Sharpe ratio are calculated to evaluate the risk-return profile.
- **DCF Valuation**: The Discounted Cash Flow (DCF) model is used to estimate the intrinsic value of the stock based on assumptions about future free cash flows, growth rates, and discount rates.

**Investment Decision**:
Based on the financial analysis, the project would conclude with a recommendation on whether to invest in Apple Inc. stock, considering the calculated metrics and valuation.

**Applications**:
This project provides practical experience in analyzing real-world market data, applying financial theories, and making informed investment decisions, critical skills for anyone pursuing a career in finance or investment management.
